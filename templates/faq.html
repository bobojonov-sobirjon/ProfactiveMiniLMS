{% extends 'base.html' %}
{% load static %}

{% block title %}FAQ - Profactive{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="mb-12 md:mb-20 lg:mb-31" data-aos="fade-up">
  <div class="container-base text-center">
    <h1 class="text-2xl md:text-3xl lg:text-basic-40 mb-5 md:mb-8 lg:mb-11">
      Часто задаваемые
      <span class="text-gradient-display">вопросы</span>
    </h1>
    <p class="text-lg text-primary/70 max-w-3xl mx-auto">
      Ответы на самые часто задаваемые вопросы о нашей платформе. 
      Если вашего вопроса здесь нет, свяжитесь с нами.
    </p>
  </div>
</section>

<!-- FAQ Content -->
<section class="mb-12 md:mb-20 lg:mb-31" data-aos="fade-up" data-aos-delay="200">
  <div class="container-base">
    <div class="font-semibold space-y-4 lg:space-y-6">
      {% if faqs %}
        {% for faq in faqs %}
          <div x-data="{ open: false }" class="w-full" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:300 }}">
            <button @click="open = !open"
              class="text-left bg-white w-full flex items-center justify-between border-2 border-brand-gray-700 rounded-[18px] py-3 lg:py-5 px-4 lg:px-6">
              <span class="text-lg/5 lg:text-basic-23/8.5 text-primary">
                {{ faq.question }}
              </span>

              <div class="p-2">
                <svg :class="open ? 'rotate-45' : ''" class="transition-transform duration-300" width="20" height="20"
                  viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M8.58325 8.5835V0.0834961H11.4166V8.5835H19.9166V11.4168H11.4166V19.9168H8.58325V11.4168H0.083252V8.5835H8.58325Z"
                    fill="#AB803B" />
                </svg>
              </div>
            </button>

            <!-- Accourdion Content -->
            <div x-show="open" :class="open ? '!block' : 'hidden'"
              class="bg-white hidden border-2 border-brand-gray-700 rounded-[18px] py-3 lg:py-5 px-4 lg:px-6 mt-3">
              <div style="color: #1e1e1e !important;">
                {{ faq.answer|linebreaks }}
              </div>
              {% if faq.category %}
                <div class="mt-3">
                  <span class="inline-block bg-brand-yellow-500/20 text-brand-yellow-500 text-xs font-medium px-2.5 py-0.5 rounded-full">
                    {{ faq.category }}
                  </span>
                </div>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      {% else %}
        <div class="text-center py-12">
          <div class="text-primary/50 text-lg">
            Пока нет вопросов
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</section>

<!-- Contact Section -->
<section class="mb-12 md:mb-20 lg:mb-31" data-aos="fade-up" data-aos-delay="400">
  <div class="container-base text-center">
    <div class="bg-white rounded-[18px] border-2 border-brand-gray-700 p-8 max-w-2xl mx-auto">
      <h2 class="text-2xl font-bold text-primary mb-4">
        Нет вашего вопроса?
      </h2>
      <p class="text-primary/70 mb-6">
        Если вашего вопроса здесь нет, свяжитесь с нами. 
        Мы быстро ответим вам.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="{% url 'contacts' %}" 
           class="bg-hover-primary font-semibold rounded-[14px] py-3.5 lg:py-5 px-7 lg:px-13.5 transition-colors duration-200">
          Связаться
        </a>
        <a href="{% url 'home' %}" 
           class="bg-brand-gray-700 text-white font-semibold rounded-[14px] py-3.5 lg:py-5 px-7 lg:px-13.5 hover:bg-brand-gray-600 transition-colors duration-200">
          Вернуться на главную
        </a>
      </div>
    </div>
  </div>
</section>
{% endblock %}
